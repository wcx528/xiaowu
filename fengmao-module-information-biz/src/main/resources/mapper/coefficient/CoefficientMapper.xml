<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fmyd888.fengmao.module.information.dal.mysql.coefficient.CoefficientMapper">

    <!--
        一般情况下，尽可能使用 Mapper 进行 CRUD 增删改查即可。
        无法满足的场景，例如说多表关联查询，才使用 XML 编写 SQL。
        代码生成器暂时只生成 Mapper XML 文件本身，更多推荐 MybatisX 快速开发插件来生成查询。
     -->

    <select id="selectBySubordinateCompaniesId"
            resultType="com.fmyd888.fengmao.module.information.controller.admin.coefficient.dto.CoefficientDetailDTO">
        SELECT
            t1.id,
            t1.deputy_subsidy_salary,
            t1.escort_subsidy_salary,
            t1.deputy_subsidy_subsidy,
            t1.escort_subsidy_subsidy,
            t1.consumption_award,
            t1.consumption_assess,
            t1.subordinate_companies_id
-- t5.name as subordinateCompaniesName,
        FROM fm_coefficient t1 WHERE t1.subordinate_companies_id = #{subordinateCompaniesId}
    </select>
    <select id="selectLoadingRateByCoefficientId"
            resultType="com.fmyd888.fengmao.module.information.controller.admin.coefficient.dto.LoadingRateDTO">
        SELECT
--             t1.id,
--             t1.coefficient_id,
            t1.commodity_id,
            t2.name as commodityName,
            t1.standardized_stowage
        FROM fm_loading_rate t1
                 LEFT JOIN fm_commodity t2 on t2.id = t1.commodity_id
        WHERE  t1.deleted = 0
            and t1.coefficient_id = #{CoefficientId}
    </select>
    <select id="selectMaintenanceCostsByCoefficientId"
            resultType="com.fmyd888.fengmao.module.information.controller.admin.coefficient.dto.MaintenanceCostsDTO">
        SELECT
--             t1.id,
--             t1.coefficient_id,
            t1.maintain_type,
            t1.kilometre_coefficient,
            t1.award_project,
            t1.assess_project
        FROM fm_maintenance_costs t1
        WHERE  t1.deleted = 0
          and t1.coefficient_id = #{CoefficientId}
    </select>
</mapper>
